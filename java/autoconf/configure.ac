dnl **************************************************************************
dnl * Initialize
dnl **************************************************************************
AC_INIT([[Java]], [[0.0]], [llvmbugs@cs.uiuc.edu])

dnl Place all of the extra autoconf files into the config subdirectory
AC_CONFIG_AUX_DIR([autoconf])

dnl Configure a header file

dnl Configure Makefiles
dnl List every Makefile that exists within your source tree

AC_CONFIG_MAKEFILE(Makefile)
AC_CONFIG_MAKEFILE(lib/Makefile)
AC_CONFIG_MAKEFILE(lib/ClassFile/Makefile)
AC_CONFIG_MAKEFILE(tools/Makefile)
AC_CONFIG_MAKEFILE(tools/classdump/Makefile)

AC_CONFIG_FILES(Makefile.common)

dnl **************************************************************************
dnl * Determine which system we are building on
dnl **************************************************************************

dnl **************************************************************************
dnl * Check for programs.
dnl **************************************************************************
AC_CHECK_PROG(JIKES, jikes, jikes)
AC_CHECK_PROG(JAVAC, javac, javac)
AC_CHECK_PROG(JAVA, java, java)

dnl Verify that the source directory is valid
AC_CONFIG_SRCDIR(Makefile.common.in)

dnl **************************************************************************
dnl * Check for libraries.
dnl **************************************************************************

dnl **************************************************************************
dnl * Checks for header files.
dnl **************************************************************************

dnl **************************************************************************
dnl * Checks for typedefs, structures, and compiler characteristics.
dnl **************************************************************************

dnl **************************************************************************
dnl * Checks for library functions.
dnl **************************************************************************

dnl **************************************************************************
dnl * Enable various compile-time options
dnl **************************************************************************

dnl **************************************************************************
dnl * Set the location of various third-party software packages
dnl **************************************************************************

dnl Location of LLVM source code
AC_ARG_WITH([llvmsrc],
            AS_HELP_STRING([--with-llvmsrc],
                           [Location of LLVM Source Code]),
            AC_SUBST(LLVM_SRC,$withval),
            AC_SUBST(LLVM_SRC,[`cd ${srcdir}/../..; pwd`]))

dnl Location of LLVM object code
AC_ARG_WITH([llvmobj],
            AS_HELP_STRING([--with-llvmobj],
                           [Location of LLVM Object Code]),
            AC_SUBST(LLVM_OBJ,$withval),
            AC_SUBST(LLVM_OBJ,[`cd ../..; pwd`]))

dnl **************************************************************************
dnl * Create the output files
dnl **************************************************************************
AC_OUTPUT
