Framework launched
AImpl provides A
CImpl exports and provides C
AImpl got C
> bundles
   id  level/state name
   --------------------
   12  1/active    C                13  1/active    A Implementation
   15  1/active    C Implementation 10  1/active    J3 Virtual Machine Manager
   ...
> framework call j3.J3Mgr dumpClassLoaderBundles
...
classLoader=0xb56330b8	bundleID=12
classLoader=0xb58afe78	bundleID=13
...
classLoader=0xb5a4d8c8	bundleID=15
> framework call j3.J3Mgr resetReferencesToBundle ijvm.tests.AImpl
resetReferencesToBundle: #13 ijvm.tests.AImpl
Stopping bundle: ijvm.tests.AImpl
AImpl no more provides A
AImpl lost C but keeps a stale reference to it
Uninstalling bundle: ijvm.tests.AImpl
Refreshing framework...
Result: null
Resetting stale references to bundle #13
Resetting ref=0x5144e034 obj=0x514a50ec(class=ijvm/tests/AImpl/Activator) source=0x5144e02c(class=[Ljava/lang/Object;)
WARNING: Source object is stale source=0x50006184(class=ijvm/tests/AImpl/AImpl)
Resetting ref=0x515f420c obj=0x514a50ec(class=ijvm/tests/AImpl/Activator) source=0x515f4204(class=org/knopflerfish/framework/ServiceListenerEntry)
WARNING: Ignored stale reference ref=0x5158339c obj=0x503719ec(class=j3::VMClassLoader,loader=0xb58afe78,javaLoader=0x51583384,javaClass=org/knopflerfish/framework/BundleClassLoader) source=0x51583384(class=org/knopflerfish/framework/BundleClassLoader)
Bundle class loader unloaded, bundleID=13
> bundles
   id  level/state name
   --------------------
   12  1/active    C                       15  1/active    C Implementation
   10  1/active    J3 Virtual Machine Manager
   ...
> framework call j3.J3Mgr dumpClassLoaderBundles
classLoader=0xb56330b8	bundleID=12
...
classLoader=0xb5a4d8c8	bundleID=15